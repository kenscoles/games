import"./chunk-VN3CQEPZ.js";import{b as F}from"./chunk-LBMK74TI.js";import{g as V,h as A,i as P,k,l as O,m as L,n as $,o as j}from"./chunk-46BGSHF4.js";import{$ as u,$a as E,Aa as l,Ka as M,Qb as T,Qc as I,W as v,Za as d,_a as p,aa as f,ab as _,bb as h,cb as y,db as n,eb as a,fb as b,gb as x,ib as C,jb as c,ka as m,tb as w,xb as o,ya as D,yb as s}from"./chunk-YXBEA4Z2.js";var B=(i,t)=>t.code;function U(i,t){if(i&1&&(n(0,"mat-option",4),o(1),a()),i&2){let e=t.$implicit;y("value",e),l(),s(e)}}function z(i,t){i&1&&(n(0,"th"),o(1,"Region"),a())}function H(i,t){if(i&1&&(n(0,"td"),o(1),a()),i&2){let e=c().$implicit;l(),s(e.region)}}function q(i,t){if(i&1){let e=x();n(0,"tr")(1,"td"),o(2),a(),n(3,"td"),o(4),a(),n(5,"td"),o(6),a(),d(7,H,2,1,"td"),n(8,"td",6),C("click",function(){let g=u(e).$implicit,S=c(2);return f(S.collectData(g))}),b(9,"img",7),a()()}if(i&2){let e=t.$implicit,r=c(2);l(2),s(e.name),l(2),s(e.code),l(2),s(e.capital),l(),p(r.selection()==="All"?7:-1),l(2),y("src",e.flag,D)}}function G(i,t){if(i&1&&(n(0,"table",5)(1,"caption")(2,"h3"),o(3,"List of country data"),a()(),n(4,"thead")(5,"tr")(6,"th"),o(7,"Name"),a(),n(8,"th"),o(9,"Code"),a(),n(10,"th"),o(11,"Capital"),a(),d(12,z,2,0,"th"),n(13,"th"),o(14,"Flag"),a()()(),n(15,"tbody"),_(16,q,10,5,"tr",null,B),a()()),i&2){let e=c();l(12),p(e.selection()==="All"?12:-1),l(4),h(e.myCountryData())}}function J(i,t){i&1&&(n(0,"h3"),o(1,"Please wait..."),a())}var N=class i{util=v(j);selection=m("All");myCountryData=m("");countryData=m("");result=[];regions=[];codes=F(()=>"https://restcountries.com/v3.1/all?fields=name,cca3,capital,flags,region");isDataLoaded=!1;constructor(){T(()=>{this.codes.hasValue()&&(this.isDataLoaded||(this.result=this.codes.value().map(t=>({code:t.cca3,name:t.name.common,region:t.region,capital:t.capital[0],flag:t.flags.svg})),this.countryData.set(this.result),this.selection()==="All"&&this.myCountryData.set(this.countryData()),this.util.objsort(this.countryData(),"name","asc"),this.regions=Array.from(new Set(this.codes.value().map(t=>t.region))),this.regions.unshift("All"),console.log("regions",this.regions),console.log("countryData",this.countryData()),this.isDataLoaded=!0))})}onSelected(t){this.selection.set(t),this.selection()==="All"?this.myCountryData.set(this.countryData()):this.myCountryData.set(this.countryData().filter(e=>e.region==this.selection()))}collectData(t){console.log("Data ",t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=M({type:i,selectors:[["app-styles"]],decls:11,vars:1,consts:[["reg",""],[2,"width","10%","text-align","justify","margin-right","auto","margin-left","auto"],["appearance","fill"],[3,"valueChange"],[3,"value"],[2,"width","40%","text-align","justify","margin-right","auto","margin-left","auto"],[3,"click"],[3,"src"]],template:function(e,r){if(e&1){let g=x();n(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),o(3,"region"),a(),n(4,"mat-select",3,0),C("valueChange",function(){u(g);let R=w(5);return f(r.onSelected(R.value))}),_(6,U,2,2,"mat-option",4,E),a()()(),n(8,"p"),d(9,G,18,1,"table",5)(10,J,2,0,"h3"),a()}e&2&&(l(6),h(r.regions),l(3),p(r.codes.hasValue()?9:10))},dependencies:[I,P,A,V,k,$,L,O],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}img[_ngcontent-%COMP%]{border:2px solid;width:20%;display:block;margin:5px auto}@media screen and (max-width: 585px){img[_ngcontent-%COMP%]{border:1px solid;margin:2px;width:100%}}"],changeDetection:0})};export{N as Styles};
