import"./chunk-VN3CQEPZ.js";import{b}from"./chunk-LBMK74TI.js";import{g as F,h as I,i as A,k as L,l as V,m as j,n as $,o as N}from"./chunk-46BGSHF4.js";import{$ as y,$a as C,Aa as l,Ka as S,Qb as T,Qc as w,W as h,Za as m,_a as d,aa as _,ab as u,bb as f,cb as g,db as n,eb as a,fb as v,gb as D,ib as E,jb as p,ka as c,tb as M,xb as o,ya as x,yb as r}from"./chunk-YXBEA4Z2.js";var R=(e,t)=>t.code;function U(e,t){if(e&1&&(n(0,"mat-option",4),o(1),a()),e&2){let i=t.$implicit;g("value",i),l(),r(i)}}function z(e,t){e&1&&(n(0,"th"),o(1,"Region"),a())}function O(e,t){if(e&1&&(n(0,"td"),o(1),a()),e&2){let i=p().$implicit;l(),r(i.region)}}function q(e,t){if(e&1&&(n(0,"tr")(1,"td"),o(2),a(),n(3,"td"),o(4),a(),n(5,"td"),o(6),a(),m(7,O,2,1,"td"),n(8,"td"),v(9,"img",6),a()()),e&2){let i=t.$implicit,s=p(2);l(2),r(i.name),l(2),r(i.code),l(2),r(i.capital),l(),d(s.selection()==="All"?7:-1),l(2),g("src",i.flag,x)}}function G(e,t){if(e&1&&(n(0,"table",5)(1,"caption")(2,"h3"),o(3,"List of country data"),a()(),n(4,"thead")(5,"tr")(6,"th"),o(7,"Name"),a(),n(8,"th"),o(9,"Code"),a(),n(10,"th"),o(11,"Capital"),a(),m(12,z,2,0,"th"),n(13,"th"),o(14,"Flag"),a()()(),n(15,"tbody"),u(16,q,10,5,"tr",null,R),a()()),e&2){let i=p();l(12),d(i.selection()==="All"?12:-1),l(4),f(i.myCountryData())}}function H(e,t){e&1&&(n(0,"h3"),o(1,"Please wait..."),a())}var k=class e{util=h(N);selection=c("All");myCountryData=c("");countryData=c("");result=[];regions=[];codes=b(()=>"https://restcountries.com/v3.1/all?fields=name,cca3,capital,flags,region");isDataLoaded=!1;constructor(){T(()=>{this.codes.hasValue()&&(this.isDataLoaded||(this.result=this.codes.value().map(t=>({code:t.cca3,name:t.name.common,region:t.region,capital:t.capital[0],flag:t.flags.svg})),this.countryData.set(this.result),this.selection()==="All"&&this.myCountryData.set(this.countryData()),this.util.objsort(this.countryData(),"name","asc"),this.regions=Array.from(new Set(this.codes.value().map(t=>t.region))),this.regions.unshift("All"),console.log("regions",this.regions),console.log("countryData",this.countryData()),this.isDataLoaded=!0))})}onSelected(t){this.selection.set(t),this.selection()==="All"?this.myCountryData.set(this.countryData()):this.myCountryData.set(this.countryData().filter(i=>i.region==this.selection()))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=S({type:e,selectors:[["app-styles"]],decls:11,vars:1,consts:[["reg",""],[2,"width","10%","text-align","justify","margin-right","auto","margin-left","auto"],["appearance","fill"],[3,"valueChange"],[3,"value"],[2,"width","40%","text-align","justify","margin-right","auto","margin-left","auto"],[2,"width","80px","height","45px","border","5px solid #555",3,"src"]],template:function(i,s){if(i&1){let B=D();n(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),o(3,"region"),a(),n(4,"mat-select",3,0),E("valueChange",function(){y(B);let P=M(5);return _(s.onSelected(P.value))}),u(6,U,2,2,"mat-option",4,C),a()()(),n(8,"p"),m(9,G,18,1,"table",5)(10,H,2,0,"h3"),a()}i&2&&(l(6),f(s.regions),l(3),d(s.codes.hasValue()?9:10))},dependencies:[w,A,I,F,L,$,j,V],encapsulation:2})};export{k as Styles};
