import{a as U}from"./chunk-U72QHV4Z.js";import{c as k}from"./chunk-K3QGD327.js";import{b as B,c as F,d as N,e as R,f as V,g as j,i as z,j as $,k as q,l as G,n as H}from"./chunk-LNIN4MSK.js";import{$a as M,Ab as P,Bb as O,Cb as _,Fb as E,Gb as w,Ia as x,Mb as g,Nc as I,Oc as L,V as h,Xa as d,Ya as m,ab as v,bb as p,cb as a,db as o,eb as C,hb as f,hc as D,ia as u,ib as s,ic as T,wa as y,wb as i,xb as S,ya as n,yb as c,zb as b}from"./chunk-3Z65R7ZE.js";var K=(e,r)=>r.code;function Q(e,r){if(e&1&&(a(0,"mat-option",5),i(1),o()),e&2){let t=r.$implicit;p("value",t.code),n(),S(t.name)}}function W(e,r){e&1&&(a(0,"h3"),i(1,"Loading ... please wait"),o())}function X(e,r){e&1&&(a(0,"h3"),i(1,"No country found with this code"),o())}function Z(e,r){if(e&1&&i(0),e&2){s();let t=_(0);c(" (",t.name.native,") ")}}function tt(e,r){e&1&&i(0,"YES")}function et(e,r){e&1&&i(0,"NO")}function nt(e,r){if(e&1&&(a(0,"h2"),i(1),o()),e&2){s();let t=_(0);n(),c("Border(s): ",t.borders.join(", "))}}function it(e,r){if(e&1&&(P(0),a(1,"h2"),i(2),d(3,Z,1,1),o(),a(4,"h2"),i(5),o(),a(6,"h2"),i(7,"Independent: "),d(8,tt,1,0)(9,et,1,0),C(10,"h2"),i(11),E(12,"number"),o(),a(13,"h2"),i(14),o(),a(15,"h2"),i(16),o(),a(17,"h2"),i(18),o(),d(19,nt,2,1,"h2"),a(20,"h2"),i(21),o()),e&2){let t=O(s().countryData());n(2),c("",t.name.common," "),n(),m(t.name.common!==t.name.native?3:-1),n(2),c("Capital: ",t.capital.join(", ")),n(3),m(t.independent?8:9),n(3),c("Population: ",w(12,12,t.population)),n(3),c("Drive on the : ",t.car.side," "),n(2),b("Currency: ",t.currency.name," ( ",t.currency.symbol," )"),n(2),c("Timezone(s): ",t.timezones.join(", ")),n(),m(t.borders?19:-1),n(2),c("Language(s): ",t.langs.join(", "))}}function ot(e,r){if(e&1&&C(0,"img",7),e&2){let t=s(),l=t.countryData().flags.svg+"?a="+t.myDate;p("src",l,y)}}var Y=class e{#t=h(k);#e=h(U);myDate=Date.now();code=u("GBR");chosenCode=u(this.#t.myCountry());debounceSearchValue=H(this.chosenCode,500);country=this.#e.getCountry(this.code);result=[];countryData=u("");constructor(){this.chosenCode.set(this.#t.myCountry()),g(()=>{this.country.hasValue()&&(this.countryData.set(this.#e.adaptData(this.country)),this.#t.isTheSelectBuilt()||(console.log("select now built"),this.#e.makeSelect()),this.result=this.#t.codes())}),g(()=>{this.code.set(this.debounceSearchValue()),console.log("effect fired - sync code with debounced signal")})}test(){this.#t.showCountry.set(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-country"]],decls:16,vars:5,consts:[[1,"row"],[1,"columnLeft"],["matButton","outlined",3,"click"],[1,"divider"],["name","code",3,"ngModelChange","ngModel"],[3,"value"],[1,"columnRight"],[1,"flag",3,"src"]],template:function(t,l){t&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return l.test()}),i(3,"back to list"),o(),C(4,"div",3),a(5,"mat-form-field")(6,"mat-label"),i(7,"pick a country"),o(),a(8,"mat-select",4),f("ngModelChange",function(J){return l.chosenCode.set(J)}),M(9,Q,2,2,"mat-option",5,K),o()(),d(11,W,2,0,"h3"),d(12,X,2,0,"h3"),d(13,it,22,14),o(),a(14,"div",6),d(15,ot,1,1,"img",7),o()()),t&2&&(n(8),p("ngModel",l.chosenCode()),n(),v(l.result),n(2),m(l.country.isLoading()?11:-1),n(),m(!l.country.isLoading()&&!l.country.hasValue()?12:-1),n(),m(l.country.hasValue()?13:-1),n(2),m(l.country.hasValue()&&l.countryData()?15:-1))},dependencies:[T,D,N,B,F,z,V,R,L,I,j,G,q,$],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.columnLeft[_ngcontent-%COMP%]{float:left;width:40%;padding:10px;margin:5%}.columnRight[_ngcontent-%COMP%]{float:right;width:40%;padding:10px;margin:5%}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}@media screen and (max-width: 585px){.columnLeft[_ngcontent-%COMP%], .columnRight[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0;line-height:1.2}}img[_ngcontent-%COMP%]{border:2px solid;width:100%;display:block;margin:5px auto}.flag[_ngcontent-%COMP%]{width:50%}.divider[_ngcontent-%COMP%]{width:5px;height:auto;display:inline-block}'],changeDetection:0})};export{Y as a};
